#根据数据提取共现现象

##源数据scheme

```
flow_1.json 文件表格释义
{
   "0" : [  #表示时段编号，以下为该时段编号的流量
      {
         "82" : 1  #表示1条存在destination=0，origin=82 的出行，即第一个花括号中表示destination=1的出行，分号前的数字为origin，分号后为流量，
      },
      {
         "10" : 1, #表示1条存在destination=1，origin=10 的出行
         "11" : 3, #表示3条存在destination=1，origin=11 的出行
         "138" : 1,
         "21" : 3,
         "22" : 1,
         "27" : 1,
         "31" : 1,
         "35" : 2,
         "44" : 1
      },
...
     {},
]
```

每个文件中表示某天48个时段中，每个时段从a到b的流量大小；

共现现象，指在某天某个时段当中有从a到b，从c到b，则认为a和c发生了共现现象。

![](http://sowcar.com/t6/686/1553063356x1965165908.jpg)

##处理方法—fp-growth
对某个时段下面的每个dict作为一个事务，将其通过fp-growth构建fp树，寻找频繁项集，即为共现现象。

##共现数据格式

```
[
   {
      "ID" : 0,
      "frequent_set" : [
         {
            "coope-events" : [
               {
                  "destination" : [ 134, 376, 377, 397, 451, 507 ],
                  "source" : [ 541 ],
                  "support" : 6  #代表destination的数量
               },
               {
                  "destination" : [
                     214,
                     348,
                     357,
                     370,
                     380,
                     402,
                     428,
                     433,
                     480,
                     492,
                     502,
                     503,
                     515,
                     517,
                     519,
                     527
                  ],
                  "source" : [ 535 ],
                  "support" : 16
               },
```
```
"frequent_set" : [
{
	"coope-events" : [...],
	"k":1 #代表source为一个点
}
            
```


